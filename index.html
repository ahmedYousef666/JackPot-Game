<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ø§ÙƒÙŠÙ†Ø© Ø§Ù„Ø­Ø¸</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">

<style>
body{
  font-family:'Cairo',sans-serif;
  background:#0f172a;
  color:#fff;
}

/* ====== Ø¥Ø·Ø§Ø± ====== */
.section{
  background:#020617;
  border:3px solid #334155;
  border-radius:16px;
  padding:12px;
  margin-bottom:16px;
}

/* ====== Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… (Ø§ÙØªØ±Ø§Ø¶ÙŠ: Ù…ÙˆØ¨Ø§ÙŠÙ„) ====== */
.lists{
  display:flex;
  flex-direction:column;
  gap:10px;
}

.list-box textarea{
  width:100%;
  padding:8px;
  border-radius:8px;
  color:black;
}

/* ====== Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ====== */
.machine{
  overflow-x:auto;
}

.reels{
  display:flex;
  flex-direction:row;
  flex-wrap:nowrap;
  gap:12px;
  width:max-content;
}

.slot{
  width:100px;
  height:70px;
  background:#020617;
  border:3px solid #1e293b;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  flex-shrink:0;
  box-shadow:
    inset 0 4px 6px rgba(255,255,255,.05),
    inset 0 -4px 6px rgba(0,0,0,.8),
    0 6px 15px rgba(0,0,0,.6);
}

/* ====== ÙƒÙ…Ø¨ÙŠÙˆØªØ± ====== */
@media (min-width: 768px){

  .lists{
    flex-direction:row;
    overflow-x:auto;
  }

  .list-box{
    width:200px;
    flex-shrink:0;
  }

  .machine{
    overflow-x:visible;
  }

  .reels{
    justify-content:center;
  }
}
</style>
</head>

<body class="min-h-screen p-4">

<h1 class="text-center text-3xl mb-4">ğŸ° Ù…Ø§ÙƒÙŠÙ†Ø© Ø§Ù„Ø­Ø¸</h1>

<!-- Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… -->
<div class="section">
  <h2 class="text-center mb-2 font-bold">Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…</h2>
  <div id="lists" class="lists"></div>

  <div class="flex gap-2 mt-3">
    <button onclick="addList()" class="flex-1 bg-emerald-600 py-2 rounded">â• Ø¥Ø¶Ø§ÙØ©</button>
    <button onclick="removeList()" class="flex-1 bg-rose-600 py-2 rounded">â– Ø­Ø°Ù</button>
  </div>
</div>

<!-- Ø²Ø± Ø§Ù„ØªØ´ØºÙŠÙ„ -->
<button onclick="spin()" class="w-full bg-blue-600 py-3 rounded-xl font-bold mb-4">
  ğŸ² Ù„ÙÙ‘ Ø§Ù„Ù…Ø§ÙƒÙŠÙ†Ø©
</button>

<!-- Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
<div class="section machine">
  <h2 class="text-center mb-2 font-bold">Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h2>
  <div id="result" class="reels"></div>
</div>

<script>
const lists=document.getElementById('lists');
const result=document.getElementById('result');
let count=0;

function addList(val=''){
  count++;
  const box=document.createElement('div');
  box.className='list-box';

  const ta=document.createElement('textarea');
  ta.placeholder=`Ù‚Ø§Ø¦Ù…Ø© ${count}\nÙƒÙ„ Ø¹Ù†ØµØ± ÙÙŠ Ø³Ø·Ø±`;
  ta.value=val;
  ta.oninput=save;

  box.appendChild(ta);
  lists.appendChild(box);
  save();
}

function removeList(){
  if(lists.children.length>1){
    lists.lastChild.remove();
    save();
  }
}

function save(){
  const data=[...lists.children].map(b=>b.firstChild.value);
  localStorage.setItem('lists',JSON.stringify(data));
}

function load(){
  const data=JSON.parse(localStorage.getItem('lists')||'[]');
  if(data.length===0) addList();
  else data.forEach(v=>addList(v));
}

function spin(){
  result.innerHTML='';
  [...lists.children].forEach((box,i)=>{
    const slot=document.createElement('div');
    slot.className='slot';
    slot.textContent='â€”';
    result.appendChild(slot);

    const items=box.firstChild.value.split('\n').filter(Boolean);
    if(items.length===0) return;

    const inter=setInterval(()=>{
      slot.textContent=items[Math.floor(Math.random()*items.length)];
    },80);

    setTimeout(()=>{
      clearInterval(inter);
      slot.textContent=items[Math.floor(Math.random()*items.length)];
    },1200+i*300);
  });
}

load();
</script>

</body>
</html>
